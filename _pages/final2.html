---
layout: page
title: Cat Game
permalink: /catgame/
--- 
<html>
<head>
    <style>
        /* Styling for the container */
        #container {
            position: relative;
            height: 300px;
            width: 900px;
            border: 1px solid black;
            overflow: hidden;
        }
        /* Styling for the sprite */
        #sprite {
            position: absolute;
            top: 0;
            left: 0;
            height: 155px;
            width: 200px;
            background: url('https://www.koolmoves.com/images_slideshow/cat-221-154-8.png') 0px 0px;
        }
        /* Styling for the 'X' marks */
        .x-mark {
            position: absolute;
            top: 0;
            left: 0;
            font-size: 30px;
            color: red;
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- Sprite element that triggers animation when clicked -->
        <div id="sprite" onclick="animateScript()"></div>
        <div id="score">Score: 0</div>
    </div>

    <script>
        // Set initial variables
        var spritePosition = { top: 0, left: 0 }; // Sprite's initial position
        var score = 0; // Initial score
        var tID; // Animation interval ID

        function updateSpritePosition() {
            // Update the sprite's position on the page, used to update css properties
            const sprite = document.querySelector("#sprite");
            sprite.style.top = spritePosition.top + "px";
            sprite.style.left = spritePosition.left + "px";
        }

        function animateScript() {
            // Animation function for the sprite
            var position = 221; // Initial background position
            const interval = 100; // Animation interval in milliseconds
            //  sets up a repeated execution of the provided callback function with a specified time interval. The callback function will be called repeatedly at the given interval.
            tID = setInterval(() => {
                // Animate the sprite by changing the background position
                document.getElementById("sprite").style.backgroundPosition = `-${position}px 0px`;
                if (position < 1105) {
                    position = position + 221; // Increment background position for the next frame
                } else {
                    position = 221; // Reset background position to the initial frame
                }
            }, interval);
        }

        function stopAnimation() {
            // Stop the animation
            clearInterval(tID);
        }

        function handleKeyDown(event) {
            // Handle arrow key presses to control the sprite's movement
            const keyCode = event.keyCode; // keyCode is unique property to the key pressed
            const step = 10; // Movement step size

            switch (keyCode) { // switch used to handle the different cases
                case 37: // Left arrow key
                    spritePosition.left -= step; // Move sprite left
                    break;
                case 38: // Up arrow key
                    spritePosition.top -= step; // Move sprite up
                    break;
                case 39: // Right arrow key
                    spritePosition.left += step; // Move sprite right
                    break;
                case 40: // Down arrow key
                    spritePosition.top += step; // Move sprite down
                    break;
            }

            updateSpritePosition(); // Update sprite's position on the page
            collectX(); // Check for collected 'X' marks
        }

        function generateX() {
            // Generate random 'X' marks on the page
            const container = document.querySelector("#container");
            const containerWidth = container.offsetWidth; // Max width
            const containerHeight = container.offsetHeight; // Max Height 
            const xCount = 10; // Number of 'X' marks to generate

            for (let i = 0; i < xCount; i++) { // For loop to make the correct amount of X
                const xMark = document.createElement("div"); // Creates new div element for X
                xMark.classList.add("x-mark"); // Adds CSS class x-mark to the new element
                xMark.textContent = "X"; 

                const randomTop = Math.floor(Math.random() * containerHeight); // Random number generated for the vertical position
                const randomLeft = Math.floor(Math.random() * containerWidth);// Random number generated for the horizontal position

                // Concatenation of px string
                xMark.style.top = randomTop + "px";
                xMark.style.left = randomLeft + "px";

                // appends X element as a child to the container so it can be part of the container and show up on the page 
                container.appendChild(xMark);
            }
        }

        function collectX() {
            // Check for collected 'X' marks
            const sprite = document.querySelector("#sprite"); // select sprite element 
            const xMarks = document.querySelectorAll(".x-mark"); // selects all X's by class .x-mark

            xMarks.forEach(xMark => {
                const spriteRect = sprite.getBoundingClientRect(); //  This is to get the rectanglular boundries around the sprite
                const xMarkRect = xMark.getBoundingClientRect(); //  This is to get the rectanglular boundries around each X

                if (
                    spriteRect.left < xMarkRect.right &&
                    spriteRect.right > xMarkRect.left &&
                    spriteRect.top < xMarkRect.bottom &&
                    spriteRect.bottom > xMarkRect.top
                ) {
                    xMark.remove(); // Remove collected 'X' mark
                    score++; // Increment the score
                    const scoreElement = document.querySelector("#score");
                    scoreElement.textContent = "Score: " + score; // Update the score element
                }
            });
        }

        // Generate 'X' marks
        generateX();

        // Listen for arrow key presses
        window.addEventListener("keydown", handleKeyDown);
    </script>
</body>
</html>